<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jsdx.mapper.TeacherMapper">

    <insert id="createClass" parameterType="com.jsdx.entity.Classroom">
    insert into class_room_list values (#{classId},#{classPassword},#{className},#{startTime},#{endTime},#{classroomId},#{classroomSize},#{teacherOpenId})
</insert>

    <insert id="createCheckIn">
        insert into class_room_check_in values (#{classId},#{checkInTimeStart},#{checkInTimeEnd},#{teacherWxId})
    </insert>

    <select id="isCheckInExists" resultType="Integer">
        select count(class_id) where class_id = #{classId} and check_in_time_end &lt; #{nowTime}
    </select>

    <select id="getCreatedClass" parameterType="String" resultType="map">
        select class_id,class_name,start_time,end_time,classroom_id,classroom_size,teacher_open_id from class_room_list_expired where teacher_open_id = #{teacherOpenId}
    </select>

</mapper>